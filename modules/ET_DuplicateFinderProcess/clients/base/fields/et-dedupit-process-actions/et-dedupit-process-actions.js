({plugins:["EllipsisInline"],retrieving_data:!1,buttons_retrieving:!0,action_buttons:{et_define_detection_rules:{id:"et_define_detection_rules",label:"LBL_DEFINE_DETECTION_RULES",classes:"btn btn-default btn-mini"}},events:{"click #et_define_detection_rules":"openDuplicateRulesDrawer","click #et_enable_automerge_process":"openEnableAutomergeDrawer","click #et_disable_automerge_process":"disableAutoMerge","click #et_activate_process":"activateProcess","click #et_deactivate_process":"deactivateProcess"},
    initialize:function(a){var b=this;b.retrieving_data=!1;b.buttons_retrieving=!0;b.action_buttons={et_define_detection_rules:{id:"et_define_detection_rules",label:"LBL_DEFINE_DETECTION_RULES",classes:"btn btn-default btn-mini"}};b._super("initialize",[a]);app.data.createBean(b.module,{id:b.model.get("id")}).fetch({success:function(a){"yes"==a.get("automerge")?b.action_buttons.et_disable_automerge_process={id:"et_disable_automerge_process",label:"LBL_DISABLE_AUTOMERGE_PROCESS",classes:"btn btn-danger btn-mini"}:
        b.action_buttons.et_enable_automerge_process={id:"et_enable_automerge_process",label:"LBL_ENABLE_AUTOMERGE_PROCESS",classes:"btn btn-primary btn-mini"};"no"==a.get("active")?b.action_buttons.et_activate_process={id:"et_activate_process",label:"LBL_ACTIVATE_PROCESS",classes:"btn btn-success btn-mini"}:b.action_buttons.et_deactivate_process={id:"et_deactivate_process",label:"LBL_DEACTIVATE_PROCESS",classes:"btn btn-danger btn-mini"};b.buttons_retrieving=!1;b.render()},error:function(a){b.handleError(a)}})},
    openDuplicateRulesDrawer:function(){var a=this;app.alert.show("fetching-bean",{level:"process",autoClose:!1});a.retrieving_data||(a.retrieving_data=!0,app.data.createBean(a.module,{id:a.model.get("id")}).fetch({success:function(b){app.alert.dismiss("fetching-bean");app.drawer.open({layout:"duplicate-rules",context:{module:"ET_DuplicateFinderProcess",model:b,"this":a}},function(a,b){app.router.refresh()});a.retrieving_data=!1},error:function(b){a.handleError(b)}}))},openEnableAutomergeDrawer:function(){var a=
        this;app.alert.show("fetching-bean",{level:"process",autoClose:!1});a.retrieving_data||(a.retrieving_data=!0,app.data.createBean(a.module,{id:a.model.get("id")}).fetch({success:function(b){app.alert.dismiss("fetching-bean");app.drawer.open({layout:"enable-automerge",context:{module:"ET_DuplicateFinderProcess",model:b,"this":a}},function(a,b){app.router.refresh()});a.retrieving_data=!1},error:function(b){a.handleError(b)}}))},disableAutoMerge:function(){var a=this;app.alert.show("disable-automerge-confirm",
        {level:"confirmation",messages:app.lang.get("NTF_DISABLE_AUTOMERGE_CONFIRM","ET_DuplicateFinderProcess"),autoClose:!1,onConfirm:function(){app.alert.show("disable-automerge",{level:"process",title:app.lang.get("NTF_DISABLING_AUTOMERGE","ET_DuplicateFinderProcess")});a.model.set("automerge_configuration","");a.model.set("automerge","no");a.model.save({},{success:function(a){app.alert.dismiss("disable-automerge");app.alert.show("automerge-disabled",{level:"success",messages:app.lang.get("NTF_AUTOMERGE_DISABLED",
            "ET_DuplicateFinderProcess"),autoClose:!0});app.router.refresh()},error:function(b){a.handleError(b)}})}})},activateProcess:function(){var a=this;app.alert.show("activating-process",{level:"process",title:app.lang.get("NTF_PROCESS_IS_BEING_ACTIVATED","ET_DuplicateFinderProcess"),autoClose:!1});app.data.createBean(a.module,{id:a.model.get("id")}).fetch({success:function(b){b.get("rules_configuration")?(b.set("active","yes"),b.save({},{success:function(b){app.alert.dismiss("activating-process");app.alert.show("process-activated",
        {level:"success",messages:app.lang.get("NTF_PROCESS_ACTIVATED","ET_DuplicateFinderProcess"),autoClose:!0});delete a.action_buttons.et_activate_process;a.action_buttons.et_deactivate_process={id:"et_deactivate_process",label:"LBL_DEACTIVATE_PROCESS",classes:"btn btn-danger btn-mini"};a.render();app.router.refresh()},error:function(b){a.handleError(b)}})):(app.alert.dismissAll(),app.alert.show("set-config-first",{level:"error",messages:app.lang.get("NTF_SET_CONFIGURATION_BEFORE_ENABLING","ET_DuplicateFinderProcess"),
        autoClose:!1}))},error:function(b){a.handleError(b)}})},deactivateProcess:function(){var a=this;app.alert.show("deactivating-process",{level:"process",title:app.lang.get("NTF_PROCESS_IS_BEING_DEACTIVATED","ET_DuplicateFinderProcess"),autoClose:!1});app.data.createBean(a.module,{id:a.model.get("id")}).fetch({success:function(b){b.set("active","no");b.save({},{success:function(b){app.alert.dismiss("deactivating-process");app.alert.show("process-deactivated",{level:"success",messages:app.lang.get("NTF_PROCESS_DEACTIVATED",
        "ET_DuplicateFinderProcess"),autoClose:!0});delete a.action_buttons.et_deactivate_process;a.action_buttons.et_activate_process={id:"et_activate_process",label:"LBL_ACTIVATE_PROCESS",classes:"btn btn-success btn-mini"};a.render();app.router.refresh()},error:function(b){a.handleError(b)}})},error:function(b){a.handleError(b)}})},handleError:function(a){app.alert.dismissAll();app.alert.show("server-error",{level:"error",messages:"ERR_GENERIC_SERVER_ERROR",autoClose:!1});app.error.handleHttpError(a)}});